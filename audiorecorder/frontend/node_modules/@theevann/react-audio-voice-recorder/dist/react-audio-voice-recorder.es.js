(function(){"use strict";(r=>{try{if(typeof window>"u")return;var e=document.createElement("style");e.appendChild(document.createTextNode(r)),document.head.appendChild(e)}catch(i){console.error("vite-plugin-css-injected-by-js",i)}})(".audio-recorder{background-color:#ebebeb;box-shadow:0 2px 5px #bebebe;border-radius:20px;box-sizing:border-box;color:#000;width:40px;display:flex;align-items:center;transition:all .2s ease-in;-webkit-tap-highlight-color:transparent}.audio-recorder-mic{box-sizing:content-box;cursor:pointer;height:16px;color:#000;padding:12px}.audio-recorder .audio-recorder-mic{border-radius:20px}.audio-recorder.recording .audio-recorder-mic{border-radius:0}.audio-recorder-timer,.audio-recorder-status{color:#000;margin-left:10px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;font-size:14px;font-weight:400;line-height:1}.audio-recorder-status{margin-left:15px;display:flex;align-items:baseline;flex-grow:1;animation-name:fading-ar-status;animation-duration:2s;animation-iteration-count:infinite}.audio-recorder-status-dot{background-color:#d00;border-radius:50%;height:10px;width:9px;margin-right:5px}.audio-recorder-options{box-sizing:content-box;height:16px;cursor:pointer;padding:12px 6px 12px 12px}.audio-recorder-options~.audio-recorder-options{padding:12px 12px 12px 6px;border-radius:0 5px 5px 0}.recording{border-radius:12px;width:300px;transition:all .2s ease-out}.display-none{display:none}.audio-recorder-visualizer{margin-left:15px;flex-grow:1;align-self:center;display:flex;align-items:center}@keyframes fading-ar-status{0%{opacity:1}50%{opacity:0}to{opacity:1}}")})();
import ae, { useState as h, useCallback as G, useEffect as Pe, Suspense as ke } from "react";
var ie = { exports: {} }, B = {};
/** @license React v16.14.0
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var Me;
function _e() {
  if (Me)
    return B;
  Me = 1;
  var I = ae, A = 60103;
  if (B.Fragment = 60107, typeof Symbol == "function" && Symbol.for) {
    var D = Symbol.for;
    A = D("react.element"), B.Fragment = D("react.fragment");
  }
  var p = I.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner, T = Object.prototype.hasOwnProperty, w = { key: !0, ref: !0, __self: !0, __source: !0 };
  function j(L, i, l) {
    var d, M = {}, v = null, f = null;
    l !== void 0 && (v = "" + l), i.key !== void 0 && (v = "" + i.key), i.ref !== void 0 && (f = i.ref);
    for (d in i)
      T.call(i, d) && !w.hasOwnProperty(d) && (M[d] = i[d]);
    if (L && L.defaultProps)
      for (d in i = L.defaultProps, i)
        M[d] === void 0 && (M[d] = i[d]);
    return { $$typeof: A, type: L, key: v, ref: f, props: M, _owner: p.current };
  }
  return B.jsx = j, B.jsxs = j, B;
}
var te = {};
/** @license React v16.14.0
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var ve;
function he() {
  return ve || (ve = 1, function(I) {
    process.env.NODE_ENV !== "production" && function() {
      var A = ae, D = 60103, p = 60106;
      I.Fragment = 60107;
      var T = 60108, w = 60114, j = 60109, L = 60110, i = 60112, l = 60113, d = 60120, M = 60115, v = 60116, f = 60121, O = 60122, R = 60117, E = 60129, Y = 60131;
      if (typeof Symbol == "function" && Symbol.for) {
        var u = Symbol.for;
        D = u("react.element"), p = u("react.portal"), I.Fragment = u("react.fragment"), T = u("react.strict_mode"), w = u("react.profiler"), j = u("react.provider"), L = u("react.context"), i = u("react.forward_ref"), l = u("react.suspense"), d = u("react.suspense_list"), M = u("react.memo"), v = u("react.lazy"), f = u("react.block"), O = u("react.server.block"), R = u("react.fundamental"), u("react.scope"), u("react.opaque.id"), E = u("react.debug_trace_mode"), u("react.offscreen"), Y = u("react.legacy_hidden");
      }
      var _ = typeof Symbol == "function" && Symbol.iterator, y = "@@iterator";
      function b(e) {
        if (e === null || typeof e != "object")
          return null;
        var r = _ && e[_] || e[y];
        return typeof r == "function" ? r : null;
      }
      var N = A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;
      function g(e) {
        {
          for (var r = arguments.length, t = new Array(r > 1 ? r - 1 : 0), a = 1; a < r; a++)
            t[a - 1] = arguments[a];
          P("error", e, t);
        }
      }
      function P(e, r, t) {
        {
          var a = N.ReactDebugCurrentFrame, c = "";
          if (Q) {
            var s = m(Q.type), o = Q._owner;
            c += ne(s, Q._source, o && m(o.type));
          }
          c += a.getStackAddendum(), c !== "" && (r += "%s", t = t.concat([c]));
          var n = t.map(function(C) {
            return "" + C;
          });
          n.unshift("Warning: " + r), Function.prototype.apply.call(console[e], console, n);
        }
      }
      var W = !1;
      function x(e) {
        return !!(typeof e == "string" || typeof e == "function" || e === I.Fragment || e === w || e === E || e === T || e === l || e === d || e === Y || W || typeof e == "object" && e !== null && (e.$$typeof === v || e.$$typeof === M || e.$$typeof === j || e.$$typeof === L || e.$$typeof === i || e.$$typeof === R || e.$$typeof === f || e[0] === O));
      }
      var U = /^(.*)[\\\/]/;
      function ne(e, r, t) {
        var a = "";
        if (r) {
          var c = r.fileName, s = c.replace(U, "");
          if (/^index\./.test(s)) {
            var o = c.match(U);
            if (o) {
              var n = o[1];
              if (n) {
                var C = n.replace(U, "");
                s = C + "/" + s;
              }
            }
          }
          a = " (at " + s + ":" + r.lineNumber + ")";
        } else
          t && (a = " (created by " + t + ")");
        return `
    in ` + (e || "Unknown") + a;
      }
      var $ = 1;
      function Ie(e) {
        return e._status === $ ? e._result : null;
      }
      function je(e, r, t) {
        var a = r.displayName || r.name || "";
        return e.displayName || (a !== "" ? t + "(" + a + ")" : t);
      }
      function m(e) {
        if (e == null)
          return null;
        if (typeof e.tag == "number" && g("Received an unexpected object in getComponentName(). This is likely a bug in React. Please file an issue."), typeof e == "function")
          return e.displayName || e.name || null;
        if (typeof e == "string")
          return e;
        switch (e) {
          case I.Fragment:
            return "Fragment";
          case p:
            return "Portal";
          case w:
            return "Profiler";
          case T:
            return "StrictMode";
          case l:
            return "Suspense";
          case d:
            return "SuspenseList";
        }
        if (typeof e == "object")
          switch (e.$$typeof) {
            case L:
              return "Context.Consumer";
            case j:
              return "Context.Provider";
            case i:
              return je(e, e.render, "ForwardRef");
            case M:
              return m(e.type);
            case f:
              return m(e.render);
            case v: {
              var r = e, t = Ie(r);
              if (t)
                return m(t);
              break;
            }
          }
        return null;
      }
      var oe = {};
      N.ReactDebugCurrentFrame;
      var Q = null;
      function H(e) {
        Q = e;
      }
      function Ne(e, r, t, a, c) {
        {
          var s = Function.call.bind(Object.prototype.hasOwnProperty);
          for (var o in e)
            if (s(e, o)) {
              var n = void 0;
              try {
                if (typeof e[o] != "function") {
                  var C = Error((a || "React class") + ": " + t + " type `" + o + "` is invalid; it must be a function, usually from the `prop-types` package, but received `" + typeof e[o] + "`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");
                  throw C.name = "Invariant Violation", C;
                }
                n = e[o](r, o, a, t, null, "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");
              } catch (z) {
                n = z;
              }
              n && !(n instanceof Error) && (H(c), g("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).", a || "React class", t, o, typeof n), H(null)), n instanceof Error && !(n.message in oe) && (oe[n.message] = !0, H(c), g("Failed %s type: %s", t, n.message), H(null));
            }
        }
      }
      var J = N.ReactCurrentOwner, F = Object.prototype.hasOwnProperty, Ce = {
        key: !0,
        ref: !0,
        __self: !0,
        __source: !0
      }, ue, ce, X;
      X = {};
      function we(e) {
        if (F.call(e, "ref")) {
          var r = Object.getOwnPropertyDescriptor(e, "ref").get;
          if (r && r.isReactWarning)
            return !1;
        }
        return e.ref !== void 0;
      }
      function De(e) {
        if (F.call(e, "key")) {
          var r = Object.getOwnPropertyDescriptor(e, "key").get;
          if (r && r.isReactWarning)
            return !1;
        }
        return e.key !== void 0;
      }
      function Te(e, r) {
        if (typeof e.ref == "string" && J.current && r && J.current.stateNode !== r) {
          var t = m(J.current.type);
          X[t] || (g('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref', m(J.current.type), e.ref), X[t] = !0);
        }
      }
      function Le(e, r) {
        {
          var t = function() {
            ue || (ue = !0, g("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)", r));
          };
          t.isReactWarning = !0, Object.defineProperty(e, "key", {
            get: t,
            configurable: !0
          });
        }
      }
      function ye(e, r) {
        {
          var t = function() {
            ce || (ce = !0, g("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)", r));
          };
          t.isReactWarning = !0, Object.defineProperty(e, "ref", {
            get: t,
            configurable: !0
          });
        }
      }
      var me = function(e, r, t, a, c, s, o) {
        var n = {
          // This tag allows us to uniquely identify this as a React Element
          $$typeof: D,
          // Built-in properties that belong on the element
          type: e,
          key: r,
          ref: t,
          props: o,
          // Record the component responsible for creating this element.
          _owner: s
        };
        return n._store = {}, Object.defineProperty(n._store, "validated", {
          configurable: !1,
          enumerable: !1,
          writable: !0,
          value: !1
        }), Object.defineProperty(n, "_self", {
          configurable: !1,
          enumerable: !1,
          writable: !1,
          value: a
        }), Object.defineProperty(n, "_source", {
          configurable: !1,
          enumerable: !1,
          writable: !1,
          value: c
        }), Object.freeze && (Object.freeze(n.props), Object.freeze(n)), n;
      };
      function Se(e, r, t, a, c) {
        {
          var s, o = {}, n = null, C = null;
          t !== void 0 && (n = "" + t), De(r) && (n = "" + r.key), we(r) && (C = r.ref, Te(r, c));
          for (s in r)
            F.call(r, s) && !Ce.hasOwnProperty(s) && (o[s] = r[s]);
          if (e && e.defaultProps) {
            var z = e.defaultProps;
            for (s in z)
              o[s] === void 0 && (o[s] = z[s]);
          }
          if (n || C) {
            var k = typeof e == "function" ? e.displayName || e.name || "Unknown" : e;
            n && Le(o, k), C && ye(o, k);
          }
          return me(e, n, C, c, a, J.current, o);
        }
      }
      var K = N.ReactCurrentOwner;
      N.ReactDebugCurrentFrame;
      function V(e) {
        Q = e;
      }
      var q;
      q = !1;
      function ee(e) {
        return typeof e == "object" && e !== null && e.$$typeof === D;
      }
      function se() {
        {
          if (K.current) {
            var e = m(K.current.type);
            if (e)
              return `

Check the render method of \`` + e + "`.";
          }
          return "";
        }
      }
      function Ae(e) {
        {
          if (e !== void 0) {
            var r = e.fileName.replace(/^.*[\\\/]/, ""), t = e.lineNumber;
            return `

Check your code at ` + r + ":" + t + ".";
          }
          return "";
        }
      }
      var le = {};
      function xe(e) {
        {
          var r = se();
          if (!r) {
            var t = typeof e == "string" ? e : e.displayName || e.name;
            t && (r = `

Check the top-level render call using <` + t + ">.");
          }
          return r;
        }
      }
      function de(e, r) {
        {
          if (!e._store || e._store.validated || e.key != null)
            return;
          e._store.validated = !0;
          var t = xe(r);
          if (le[t])
            return;
          le[t] = !0;
          var a = "";
          e && e._owner && e._owner !== K.current && (a = " It was passed a child from " + m(e._owner.type) + "."), V(e), g('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.', t, a), V(null);
        }
      }
      function fe(e, r) {
        {
          if (typeof e != "object")
            return;
          if (Array.isArray(e))
            for (var t = 0; t < e.length; t++) {
              var a = e[t];
              ee(a) && de(a, r);
            }
          else if (ee(e))
            e._store && (e._store.validated = !0);
          else if (e) {
            var c = b(e);
            if (typeof c == "function" && c !== e.entries)
              for (var s = c.call(e), o; !(o = s.next()).done; )
                ee(o.value) && de(o.value, r);
          }
        }
      }
      function Re(e) {
        {
          var r = e.type;
          if (r == null || typeof r == "string")
            return;
          var t;
          if (typeof r == "function")
            t = r.propTypes;
          else if (typeof r == "object" && (r.$$typeof === i || // Note: Memo only checks outer props here.
          // Inner props are checked in the reconciler.
          r.$$typeof === M))
            t = r.propTypes;
          else
            return;
          if (t) {
            var a = m(r);
            Ne(t, e.props, "prop", a, e);
          } else if (r.PropTypes !== void 0 && !q) {
            q = !0;
            var c = m(r);
            g("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?", c || "Unknown");
          }
          typeof r.getDefaultProps == "function" && !r.getDefaultProps.isReactClassApproved && g("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.");
        }
      }
      function Ee(e) {
        {
          for (var r = Object.keys(e.props), t = 0; t < r.length; t++) {
            var a = r[t];
            if (a !== "children" && a !== "key") {
              V(e), g("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.", a), V(null);
              break;
            }
          }
          e.ref !== null && (V(e), g("Invalid attribute `ref` supplied to `React.Fragment`."), V(null));
        }
      }
      function ge(e, r, t, a, c, s) {
        {
          var o = x(e);
          if (!o) {
            var n = "";
            (e === void 0 || typeof e == "object" && e !== null && Object.keys(e).length === 0) && (n += " You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");
            var C = Ae(c);
            C ? n += C : n += se();
            var z;
            e === null ? z = "null" : Array.isArray(e) ? z = "array" : e !== void 0 && e.$$typeof === D ? (z = "<" + (m(e.type) || "Unknown") + " />", n = " Did you accidentally export a JSX literal instead of a component?") : z = typeof e, g("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s", z, n);
          }
          var k = Se(e, r, t, c, s);
          if (k == null)
            return k;
          if (o) {
            var Z = r.children;
            if (Z !== void 0)
              if (a)
                if (Array.isArray(Z)) {
                  for (var re = 0; re < Z.length; re++)
                    fe(Z[re], e);
                  Object.freeze && Object.freeze(Z);
                } else
                  g("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");
              else
                fe(Z, e);
          }
          return e === I.Fragment ? Ee(k) : Re(k), k;
        }
      }
      function be(e, r, t) {
        return ge(e, r, t, !0);
      }
      function ze(e, r, t) {
        return ge(e, r, t, !1);
      }
      var pe = ze, Oe = be;
      I.jsx = pe, I.jsxs = Oe;
    }();
  }(te)), te;
}
process.env.NODE_ENV === "production" ? ie.exports = _e() : ie.exports = he();
var S = ie.exports;
const Ye = (I, A, D) => {
  const [p, T] = h(!1), [w, j] = h(!1), [L, i] = h(0), [l, d] = h(), [M, v] = h(), [f, O] = h(), R = G(() => {
    const y = setInterval(() => {
      i((b) => b + 1);
    }, 1e3);
    v(y);
  }, [i, v]), E = G(() => {
    M != null && clearInterval(M), v(void 0);
  }, [M, v]), Y = G(() => {
    M == null && navigator.mediaDevices.getUserMedia({ audio: I ?? !0 }).then((y) => {
      T(!0);
      const b = new MediaRecorder(
        y,
        D
      );
      d(b), b.start(), R(), b.addEventListener("dataavailable", (N) => {
        O(N.data), b.stream.getTracks().forEach((g) => g.stop()), d(void 0);
      });
    }).catch((y) => {
      console.log(y.name, y.message, y.cause), A == null || A(y);
    });
  }, [
    M,
    T,
    d,
    R,
    O,
    A,
    D
  ]), u = G(() => {
    l == null || l.stop(), E(), i(0), T(!1), j(!1);
  }, [
    l,
    i,
    T,
    j,
    E
  ]), _ = G(() => {
    w ? (j(!1), l == null || l.resume(), R()) : (j(!0), E(), l == null || l.pause());
  }, [l, j, R, E]);
  return {
    startRecording: Y,
    stopRecording: u,
    togglePauseResume: _,
    recordingBlob: f,
    isRecording: p,
    isPaused: w,
    recordingTime: L,
    mediaRecorder: l
  };
}, We = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiCgkgdmlld0JveD0iMCAwIDQ3MCA0NzAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQ3MCA0NzA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KCTxnPgoJCTxwYXRoIGQ9Ik0yMzUsMzAyLjI5NmM0Ny4xNzcsMCw4NS40MjMtMzguMjQ1LDg1LjQyMy04NS40MjNWODUuNDIzQzMyMC40MjMsMzguMjQ1LDI4Mi4xNzcsMCwyMzUsMHMtODUuNDIzLDM4LjI0NS04NS40MjMsODUuNDIzCgkJCXYxMzEuNDUxQzE0OS41NzcsMjY0LjA1MSwxODcuODIzLDMwMi4yOTYsMjM1LDMwMi4yOTZ6Ii8+CgkJPHBhdGggZD0iTTM1MC40MjMsMTM2LjE0OHYzMGgxNXY1MC43MjZjMCw3MS45MTUtNTguNTA4LDEzMC40MjMtMTMwLjQyMywxMzAuNDIzcy0xMzAuNDIzLTU4LjUwNy0xMzAuNDIzLTEzMC40MjN2LTUwLjcyNmgxNXYtMzAKCQkJaC00NXY4MC43MjZDNzQuNTc3LDMwMC4yNzMsMTM4LjU1MSwzNjksMjIwLDM3Ni41ODlWNDQwaC05MC40NDR2MzBoMjEwLjg4OXYtMzBIMjUwdi02My40MTEKCQkJYzgxLjQ0OS03LjU4OSwxNDUuNDIzLTc2LjMxNywxNDUuNDIzLTE1OS43MTZ2LTgwLjcyNkgzNTAuNDIzeiIvPgoJPC9nPgo8L3N2Zz4K", Qe = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgNDcuNjA3IDQ3LjYwNyIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDcuNjA3IDQ3LjYwNzsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgoJPGc+CgkJPHBhdGggZD0iTTE3Ljk5MSw0MC45NzZjMCwzLjY2Mi0yLjk2OSw2LjYzMS02LjYzMSw2LjYzMWwwLDBjLTMuNjYyLDAtNi42MzEtMi45NjktNi42MzEtNi42MzFWNi42MzFDNC43MjksMi45NjksNy42OTgsMCwxMS4zNiwwCgkJCWwwLDBjMy42NjIsMCw2LjYzMSwyLjk2OSw2LjYzMSw2LjYzMVY0MC45NzZ6Ii8+CgkJPHBhdGggZD0iTTQyLjg3Nyw0MC45NzZjMCwzLjY2Mi0yLjk2OSw2LjYzMS02LjYzMSw2LjYzMWwwLDBjLTMuNjYyLDAtNi42MzEtMi45NjktNi42MzEtNi42MzFWNi42MzEKCQkJQzI5LjYxNiwyLjk2OSwzMi41ODUsMCwzNi4yNDYsMGwwLDBjMy42NjIsMCw2LjYzMSwyLjk2OSw2LjYzMSw2LjYzMVY0MC45NzZ6Ii8+Cgk8L2c+Cjwvc3ZnPgo=", Ve = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiCgkgdmlld0JveD0iMCAwIDQ5NC4xNDggNDk0LjE0OCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDk0LjE0OCA0OTQuMTQ4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZD0iTTQwNS4yODQsMjAxLjE4OEwxMzAuODA0LDEzLjI4QzExOC4xMjgsNC41OTYsMTA1LjM1NiwwLDk0Ljc0LDBDNzQuMjE2LDAsNjEuNTIsMTYuNDcyLDYxLjUyLDQ0LjA0NHY0MDYuMTI0CgkJCQljMCwyNy41NCwxMi42OCw0My45OCwzMy4xNTYsNDMuOThjMTAuNjMyLDAsMjMuMi00LjYsMzUuOTA0LTEzLjMwOGwyNzQuNjA4LTE4Ny45MDRjMTcuNjYtMTIuMTA0LDI3LjQ0LTI4LjM5MiwyNy40NC00NS44ODQKCQkJCUM0MzIuNjMyLDIyOS41NzIsNDIyLjk2NCwyMTMuMjg4LDQwNS4yODQsMjAxLjE4OHoiLz4KCQk8L2c+Cgk8L2c+Cjwvc3ZnPgo=", Ze = "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZmlsbD0iIzAwMDAwMCIgZD0iTTE3Ljg1IDMuMTVsLTIuOTktM0EuNTA4LjUwOCAwIDAgMCAxNC41IDBIMS40QTEuNDE3IDEuNDE3IDAgMCAwIDAgMS40M3YxNS4xNEExLjQxNyAxLjQxNyAwIDAgMCAxLjQgMThoMTUuMmExLjQxNyAxLjQxNyAwIDAgMCAxLjQtMS40M1YzLjVhLjQ3LjQ3IDAgMCAwLS4xNS0uMzV6TTIgNVYzYTEgMSAwIDAgMSAxLTFoOGExIDEgMCAwIDEgMSAxdjJhMSAxIDAgMCAxLTEgMUgzYTEgMSAwIDAgMS0xLTF6bTcgMTFhNCA0IDAgMSAxIDQtNCA0IDQgMCAwIDEtNCA0eiIvPgo8L3N2Zz4K", Be = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8c3ZnIHdpZHRoPSIyMSIgaGVpZ2h0PSIyMSIgdmlld0JveD0iMCAwIDIxIDIxIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgoJPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzMzNTdfNDU2NikiPgoJCTxwYXRoIGQ9Ik0xLjUgNS4yNUgxOS41IiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgoJCQlzdHJva2UtbGluZWpvaW49InJvdW5kIiAvPgoJCTxwYXRoCgkJCWQ9Ik0zLjc1IDUuMjVIMTcuMjVWMTguNzVDMTcuMjUgMTkuMTQ3OCAxNy4wOTE5IDE5LjUyOTQgMTYuODEwNyAxOS44MTA3QzE2LjUyOTQgMjAuMDkxOSAxNi4xNDc4IDIwLjI1IDE1Ljc1IDIwLjI1SDUuMjVDNC44NTIxNyAyMC4yNSA0LjQ3MDY0IDIwLjA5MTkgNC4xODkzMyAxOS44MTA3QzMuOTA4MDQgMTkuNTI5NCAzLjc1IDE5LjE0NzggMy43NSAxOC43NVY1LjI1WiIKCQkJc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgLz4KCQk8cGF0aAoJCQlkPSJNNi43NSA1LjI1VjQuNUM2Ljc1IDMuNTA1NDQgNy4xNDUwOCAyLjU1MTYgNy44NDgzNCAxLjg0ODM0QzguNTUxNiAxLjE0NTA5IDkuNTA1NDQgMC43NSAxMC41IDAuNzVDMTEuNDk0NiAwLjc1IDEyLjQ0ODQgMS4xNDUwOSAxMy4xNTE3IDEuODQ4MzRDMTMuODU0OSAyLjU1MTYgMTQuMjUgMy41MDU0NCAxNC4yNSA0LjVWNS4yNSIKCQkJc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgLz4KCQk8cGF0aCBkPSJNOC4yNSA5Ljc1MTk1VjE1Ljc1NDMiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbGluZWNhcD0icm91bmQiCgkJCXN0cm9rZS1saW5lam9pbj0icm91bmQiIC8+CgkJPHBhdGggZD0iTTEyLjc1IDkuNzUxOTVWMTUuNzU0MyIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIKCQkJc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgLz4KCTwvZz4KCTxkZWZzPgoJCTxjbGlwUGF0aCBpZD0iY2xpcDBfMzM1N180NTY2Ij4KCQkJPHJlY3Qgd2lkdGg9IjIxIiBoZWlnaHQ9IjIxIiBmaWxsPSJ3aGl0ZSIgLz4KCQk8L2NsaXBQYXRoPgoJPC9kZWZzPgo8L3N2Zz4=";
const Ue = ae.lazy(async () => {
  const { LiveAudioVisualizer: I } = await import("./react-audio-visualize.es-69216c73.js");
  return { default: I };
}), Ge = ({
  onRecordingComplete: I,
  onNotAllowedOrFound: A,
  recorderControls: D,
  audioTrackConstraints: p,
  downloadOnSavePress: T = !1,
  downloadFileExtension: w = "webm",
  showVisualizer: j = !1,
  mediaRecorderOptions: L,
  classes: i
}) => {
  const {
    startRecording: l,
    stopRecording: d,
    togglePauseResume: M,
    recordingBlob: v,
    isRecording: f,
    isPaused: O,
    recordingTime: R,
    mediaRecorder: E
  } = D ?? // eslint-disable-next-line react-hooks/rules-of-hooks
  Ye(
    p,
    A,
    L
  ), [Y, u] = h(!1), _ = (N = !0) => {
    u(N), d();
  }, y = async (N) => {
    const P = (await import("./index-1c988149.js").then(($) => $.i)).createFFmpeg({ log: !1 });
    await P.load();
    const W = "input.webm", x = `output.${w}`;
    P.FS(
      "writeFile",
      W,
      new Uint8Array(await N.arrayBuffer())
    ), await P.run("-i", W, x);
    const U = P.FS("readFile", x);
    return new Blob([U.buffer], {
      type: `audio/${w}`
    });
  }, b = async (N) => {
    !crossOriginIsolated && w !== "webm" && console.warn(
      'This website is not "cross-origin isolated". Audio will be downloaded in webm format, since mp3/wav encoding requires cross origin isolation. Please visit https://web.dev/cross-origin-isolation-guide/ and https://web.dev/coop-coep/ for information on how to make your website "cross-origin isolated"'
    );
    const g = crossOriginIsolated ? await y(N) : N, P = crossOriginIsolated ? w : "webm", W = URL.createObjectURL(g), x = document.createElement("a");
    x.style.display = "none", x.href = W, x.download = `audio.${P}`, document.body.appendChild(x), x.click(), x.remove();
  };
  return Pe(() => {
    Y && v != null && I != null && (I(v), T && b(v));
  }, [v]), /* @__PURE__ */ S.jsxs(
    "div",
    {
      className: `audio-recorder ${f ? "recording" : ""} ${(i == null ? void 0 : i.AudioRecorderClass) ?? ""}`,
      "data-testid": "audio_recorder",
      children: [
        /* @__PURE__ */ S.jsx(
          "img",
          {
            src: f ? Be : We,
            className: `audio-recorder-mic ${(i == null ? void 0 : i.AudioRecorderStartDiscardClass) ?? ""}`,
            onClick: f ? () => _(!1) : l,
            "data-testid": "ar_mic",
            title: f ? "Discard recording" : "Start recording"
          }
        ),
        /* @__PURE__ */ S.jsxs(
          "span",
          {
            className: `audio-recorder-timer ${f ? "" : "display-none"} ${(i == null ? void 0 : i.AudioRecorderTimerClass) ?? ""}`,
            "data-testid": "ar_timer",
            children: [
              Math.floor(R / 60),
              ":",
              String(R % 60).padStart(2, "0")
            ]
          }
        ),
        j ? /* @__PURE__ */ S.jsx(
          "span",
          {
            className: `audio-recorder-visualizer ${f ? "" : "display-none"}`,
            children: E && /* @__PURE__ */ S.jsx(ke, { fallback: /* @__PURE__ */ S.jsx(S.Fragment, {}), children: /* @__PURE__ */ S.jsx(
              Ue,
              {
                mediaRecorder: E,
                barWidth: 2,
                gap: 2,
                width: 140,
                height: 30,
                fftSize: 512,
                maxDecibels: -10,
                minDecibels: -80,
                smoothingTimeConstant: 0.4
              }
            ) })
          }
        ) : /* @__PURE__ */ S.jsxs(
          "span",
          {
            className: `audio-recorder-status ${f ? "" : "display-none"} ${(i == null ? void 0 : i.AudioRecorderStatusClass) ?? ""}`,
            children: [
              /* @__PURE__ */ S.jsx("span", { className: "audio-recorder-status-dot" }),
              "Recording"
            ]
          }
        ),
        /* @__PURE__ */ S.jsx(
          "img",
          {
            src: O ? Ve : Qe,
            className: `audio-recorder-options ${f ? "" : "display-none"} ${(i == null ? void 0 : i.AudioRecorderPauseResumeClass) ?? ""}`,
            onClick: M,
            title: O ? "Resume recording" : "Pause recording",
            "data-testid": "ar_pause"
          }
        ),
        /* @__PURE__ */ S.jsx(
          "img",
          {
            src: Ze,
            className: `audio-recorder-options ${f ? "" : "display-none"} ${(i == null ? void 0 : i.AudioRecorderSaveClass) ?? ""}`,
            onClick: () => _(),
            title: "Save Recording",
            "data-testid": "ar_save"
          }
        )
      ]
    }
  );
};
export {
  Ge as AudioRecorder,
  Ye as useAudioRecorder
};
